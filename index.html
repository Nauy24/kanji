<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kanji Quizlet Mobile</title>

<style>
*{box-sizing:border-box;}
body{
  margin:0;
  font-family:"Times New Roman",serif;
  background:#eaf4f4;
  height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}

/* ===== DROPDOWN ===== */
#lessonSelect{
  width:94vw;
  padding:12px;
  font-size:5vw;
  border-radius:14px;
  border:none;
  margin-bottom:2vh;
  background:#ffffff;
  box-shadow:0 6px 14px rgba(0,0,0,0.08);
  text-align:center;
  text-align-last:center;
}

/* ===== CARD ===== */
.card{
  width:94vw;
  height:78vh;
  background:#fdfefe;
  border-radius:22px;
  box-shadow:0 10px 25px rgba(0,0,0,0.15);
  padding:4vh 4vw;
  text-align:center;
  display:flex;
  flex-direction:column;
  justify-content:center;
  cursor:pointer;
  position:relative;
}

.front,.back{width:100%;}
.back{display:none;}

.kanji{
  font-family:"MS Mincho",serif;
  font-size:18vw;
  font-weight:bold;
  color:#2f5d62;
}

/* ===== TAG B√ÄI (XANH D∆Ø∆†NG NH·∫†T) ===== */
.lesson-tag{
  position:absolute;
  right:3.5vw;
  bottom:2.2vh;

  font-size:4.2vw;
  color:#2a6fdb;
  font-weight:bold;

  padding:4px 10px;
  border-radius:12px;
  background:rgba(120,170,255,0.25);
}

/* ===== BACK ===== */
.reading{
  font-size:7vw;
  margin-bottom:2vh;
  color:#4a7c7d;
}

.meaning{
  font-size:6.5vw;
  font-weight:bold;
  margin-bottom:2vh;
}

.divider{
  border-top:2px solid #9dc5c3;
  margin:2vh 0;
}

.kanji-review{
  font-family:"MS Mincho",serif;
  font-size:10vw;
  font-weight:bold;
  margin-bottom:1vh;
  color:#2f5d62;
}

.hanviet{
  font-size:6vw;
  font-weight:bold;
  color:#355f5b;
}

/* ===== CONTROLS ===== */
.controls{
  width:94vw;
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  margin-top:2vh;
}

button{
  flex:1 1 40%;
  margin:6px;
  padding:14px;
  font-size:5vw;
  border:none;
  border-radius:14px;
  background:#9dc5c3;
  color:#033;
}
button:active{background:#7fb3b0;}

#counter{
  margin-top:1vh;
  font-size:4.5vw;
  color:#355f5b;
}
</style>
</head>

<body>

<select id="lessonSelect" onchange="changeLesson(event)"></select>

<div class="card" onclick="toggleCard()">
  <div class="front">
    <div class="kanji" id="kanji"></div>
  </div>

  <div class="lesson-tag" id="lessonTag" style="display:none;"></div>

  <div class="back">
    <div class="reading" id="reading"></div>
    <div class="meaning" id="meaning"></div>

    <div class="divider"></div>

    <div class="kanji-review" id="kanjiReview"></div>
    <div class="hanviet" id="hanviet"></div>
  </div>
</div>

<div id="counter"></div>

<div class="controls">
  <button onclick="prevCard(event)">‚óÄ</button>
  <button onclick="toggleCard(event)">L·∫≠t</button>
  <button onclick="nextCard(event)">‚ñ∂</button>
  <button id="shuffleBtn" onclick="shuffleCards(event)">üîÄ</button>
  <button onclick="speak()">üîä Nghe</button>
</div>

<script>
/* ===== DATA ===== */
const lessons = {

"B√†i 03":[
{kanji:"ÂêçÂâç",reading:"„Å™„Åæ„Åà",meaning:"T√™n",hanviet:"DANH TI·ªÄN"},
{kanji:"ÂõΩ",reading:"„Åè„Å´",meaning:"ƒê·∫•t n∆∞·ªõc",hanviet:"QU·ªêC"},
{kanji:"ÁßÅ",reading:"„Çè„Åü„Åó",meaning:"T√¥i",hanviet:"T∆Ø"},
],

"B√†i 04":[
{kanji:"Áà∂",reading:"„Å°„Å°",meaning:"Cha",hanviet:"PH·ª§"},
{kanji:"ÊØç",reading:"„ÅØ„ÅØ",meaning:"M·∫π",hanviet:"M·∫™U"},
{kanji:"Â≠ê„Å©„ÇÇ",reading:"„Åì„Å©„ÇÇ",meaning:"Con",hanviet:"T·ª¨"},
{kanji:"Êó•Êú¨",reading:"„Å´„Åª„Çì",meaning:"Nh·∫≠t B·∫£n",hanviet:"NH·∫¨T B·∫¢N"},
],

"B√†i 05":[
{kanji:"Ê∞¥",reading:"„Åø„Åö",meaning:"N∆∞·ªõc",hanviet:"TH·ª¶Y"},
{kanji:"È£ü„Åπ„Åæ„Åô",reading:"„Åü„Åπ„Åæ„Åô",meaning:"ƒÇn",hanviet:"TH·ª∞C"},
{kanji:"È£≤„Åø„Åæ„Åô",reading:"„ÅÆ„Åø„Åæ„Åô",meaning:"U·ªëng",hanviet:"·∫®M"},
],

"B√†i 06":[
{kanji:"È≠ö",reading:"„Åï„Åã„Å™",meaning:"C√°",hanviet:"NG∆Ø"},
{kanji:"ËÇâ",reading:"„Å´„Åè",meaning:"Th·ªãt",hanviet:"NH·ª§C"},
{kanji:"Â•Ω„Åç",reading:"„Åô„Åç",meaning:"Th√≠ch",hanviet:"H·∫¢O"},
],

"B√†i 07":[
{kanji:"ÂÆ∂",reading:"„ÅÑ„Åà",meaning:"Nh√†",hanviet:"GIA"},
{kanji:"Êñ∞„Åó„ÅÑ",reading:"„ÅÇ„Åü„Çâ„Åó„ÅÑ",meaning:"M·ªõi",hanviet:"T√ÇN"},
{kanji:"Â∫É„ÅÑ",reading:"„Å≤„Çç„ÅÑ",meaning:"R·ªông",hanviet:"QU√ÉNG"},
{kanji:"Âè§„ÅÑ",reading:"„Åµ„Çã„ÅÑ",meaning:"C≈©",hanviet:"C·ªî"},
],

"B√†i 08":[
{kanji:"‰∏ä",reading:"„ÅÜ„Åà",meaning:"Tr√™n",hanviet:"TH∆Ø·ª¢NG"},
{kanji:"‰∏ã",reading:"„Åó„Åü",meaning:"D∆∞·ªõi",hanviet:"H·∫†"},
{kanji:"‰∏≠",reading:"„Å™„Åã",meaning:"Trong",hanviet:"TRUNG"},
],

"B√†i 09":[
{kanji:"ÊúàÊõúÊó•",reading:"„Åí„Å§„Çà„ÅÜ„Å≥",meaning:"Th·ª© 2",hanviet:"NGUY·ªÜT DI·ªÜU NH·∫¨T"},
{kanji:"ÁÅ´ÊõúÊó•",reading:"„Åã„Çà„ÅÜ„Å≥",meaning:"Th·ª© 3",hanviet:"H·ªéA DI·ªÜU NH·∫¨T"},
{kanji:"Ê∞¥ÊõúÊó•",reading:"„Åô„ÅÑ„Çà„ÅÜ„Å≥",meaning:"Th·ª© 4",hanviet:"TH·ª¶Y DI·ªÜU NH·∫¨T"},
{kanji:"Êú®ÊõúÊó•",reading:"„ÇÇ„Åè„Çà„ÅÜ„Å≥",meaning:"Th·ª© 5",hanviet:"M·ªòC DI·ªÜU NH·∫¨T"},
{kanji:"ÈáëÊõúÊó•",reading:"„Åç„Çì„Çà„ÅÜ„Å≥",meaning:"Th·ª© 6",hanviet:"KIM DI·ªÜU NH·∫¨T"},
{kanji:"ÂúüÊõúÊó•",reading:"„Å©„Çà„ÅÜ„Å≥",meaning:"Th·ª© 7",hanviet:"TH·ªî DI·ªÜU NH·∫¨T"},
{kanji:"Êó•ÊõúÊó•",reading:"„Å´„Å°„Çà„ÅÜ„Å≥",meaning:"Ch·ªß nh·∫≠t",hanviet:"NH·∫¨T DI·ªÜU NH·∫¨T"},
{kanji:"ÔΩûÊõúÊó•",reading:"~„Çà„ÅÜ„Å≥",meaning:"Th·ª© ~",hanviet:"DI·ªÜU NH·∫¨T"},
],

"B√†i 10":[
{kanji:"Êúù",reading:"„ÅÇ„Åï",meaning:"S√°ng",hanviet:"TRI·ªÄU"},
{kanji:"Êòº",reading:"„Å≤„Çã",meaning:"Tr∆∞a",hanviet:"TR√ö"},
{kanji:"Â§ú",reading:"„Çà„Çã",meaning:"T·ªëi",hanviet:"D·∫†"},
{kanji:"ÔΩûÊôÇ",reading:"ÔΩû„Åò",meaning:"~ gi·ªù",hanviet:"TH·ªúI"},
{kanji:"ÔΩûÂàÜ",reading:"ÔΩû„Åµ„ÇìÔºè„Å∑„Çì",meaning:"~ ph√∫t",hanviet:"PH√ÇN"},
{kanji:"Âçä",reading:"„ÅØ„Çì",meaning:"M·ªôt n·ª≠a",hanviet:"B√ÅN"},
{kanji:"ÔΩûÊûö",reading:"ÔΩû„Åæ„ÅÑ",meaning:"~ t·ªù, t·∫•m",hanviet:"MAI"},
],

"B√†i 11":[
{kanji:"Ë™≠„Åø„Åæ„Åô",reading:"„Çà„Åø„Åæ„Åô",meaning:"ƒê·ªçc",hanviet:"ƒê·ªòC"},
{kanji:"ËÅû„Åç„Åæ„Åô",reading:"„Åç„Åç„Åæ„Åô",meaning:"Nghe, h·ªèi",hanviet:"VƒÇN"},
{kanji:"Ë¶ã„Åæ„Åô",reading:"„Åø„Åæ„Åô",meaning:"Xem, nh√¨n",hanviet:"KI·∫æN"},
{kanji:"Êú¨",reading:"„Åª„Çì",meaning:"S√°ch",hanviet:"B·∫¢N/B·ªîN"},
{kanji:"Âèã„Å†„Å°",reading:"„Å®„ÇÇ„Å†„Å°",meaning:"B·∫°n b√®",hanviet:"H·ªÆU"},
{kanji:"‰Ωï",reading:"„Å™„ÇìÔºè„Å™„Å´",meaning:"C√°i g√¨",hanviet:"H√Ä"},
],

"B√†i 12":[
{kanji:"ÔΩûÂπ¥",reading:"„Å≠„Çì",meaning:"NƒÉm",hanviet:"NI√äN"},
{kanji:"ÔΩûÊúà",reading:"ÔΩû„Åå„Å§",meaning:"Th√°ng",hanviet:"NGUY·ªÜT"},
{kanji:"ÔΩûÊó•",reading:"ÔΩû„ÅãÔºè„Å´„Å°",meaning:"Ng√†y",hanviet:"NH·∫¨T"},
{kanji:"‰ªäÊó•",reading:"„Åç„Çá„ÅÜ",meaning:"H√¥m nay",hanviet:"KIM NH·∫¨T"},
{kanji:"‰ªäÈÄ±",reading:"„Åì„Çì„Åó„ÇÖ„ÅÜ",meaning:"Tu·∫ßn n√†y",hanviet:"KIM CHU"},
{kanji:"‰ªäÂ∫¶",reading:"„Åì„Çì„Å©",meaning:"L·∫ßn t·ªõi",hanviet:"KIM ƒê·ªò"},
],

"B√†i 13":[
{kanji:"Êù±",reading:"„Å≤„Åå„Åó",meaning:"ƒê√¥ng",hanviet:"ƒê√îNG"},
{kanji:"Âçó",reading:"„Åø„Å™„Åø",meaning:"Nam",hanviet:"NAM"},
{kanji:"Ë•ø",reading:"„Å´„Åó",meaning:"T√¢y",hanviet:"T√ÇY"},
{kanji:"Âåó",reading:"„Åç„Åü",meaning:"B·∫Øc",hanviet:"B·∫ÆC"},
{kanji:"‰ºöÁ§æ",reading:"„Åã„ÅÑ„Åó„ÇÉ",meaning:"C√¥ng ty",hanviet:"H·ªòI X√É"},
{kanji:"Êù•„Åæ„Åô",reading:"„Åç„Åæ„Åô",meaning:"ƒê·∫øn",hanviet:"LAI"},
{kanji:"Ë°å„Åç„Åæ„Åô",reading:"„ÅÑ„Åç„Åæ„Åô",meaning:"ƒêi",hanviet:"H√ÄNH"},
{kanji:"‰πó„Çä„Åæ„Åô",reading:"„ÅÆ„Çä„Åæ„Åô",meaning:"L√™n xe",hanviet:"TH·ª™A"},
],

"B√†i 14":[
{kanji:"Â§ß„Åç„ÅÑ",reading:"„Åä„Åä„Åç„ÅÑ",meaning:"To",hanviet:"ƒê·∫†I"},
{kanji:"Â∞è„Åï„ÅÑ",reading:"„Å°„ÅÑ„Åï„ÅÑ",meaning:"Nh·ªè",hanviet:"TI·ªÇU"},
{kanji:"È´ò„ÅÑ",reading:"„Åü„Åã„ÅÑ",meaning:"Cao",hanviet:"CAO"},
{kanji:"‰Ωé„ÅÑ",reading:"„Å≤„Åè„ÅÑ",meaning:"Th·∫•p",hanviet:"ƒê√ä"},
{kanji:"Ââç",reading:"„Åæ„Åà",meaning:"Tr∆∞·ªõc",hanviet:"TI·ªÄN"},
{kanji:"Âæå„Çç",reading:"„ÅÜ„Åó„Çç",meaning:"Sau",hanviet:"H·∫¨U"},
{kanji:"Ê®™",reading:"„Çà„Åì",meaning:"B√™n c·∫°nh",hanviet:"HO√ÄNH"},
],

"B√†i 15":[
{kanji:"ÂÖ•Âè£",reading:"„ÅÑ„Çä„Åê„Å°",meaning:"C·ª≠a v√†o",hanviet:"NH·∫¨P KH·∫®U"},
{kanji:"Âá∫Âè£",reading:"„Åß„Åê„Å°",meaning:"C·ª≠a ra",hanviet:"XU·∫§T KH·∫®U"},
{kanji:"ÔΩûÈöé",reading:"ÔΩû„Åã„ÅÑÔºè„Åå„ÅÑ",meaning:"T·∫ßng",hanviet:"GIAI"},
{kanji:"Êäº„Åô",reading:"„Åä„Åô",meaning:"·∫§n, ƒë·∫©y",hanviet:"√ÅP"},
{kanji:"Âºï„Åè",reading:"„Å≤„Åç„Åæ„ÅôÔºè„Å≤„Åè",meaning:"K√©o",hanviet:"D·∫™N"},
{kanji:"ÂÆâ„ÅÑ",reading:"„ÇÑ„Åô„ÅÑ",meaning:"R·∫ª",hanviet:"AN"},
],

"B√†i 16":[
{kanji:"‰∏Ä",reading:"„ÅÑ„Å°",meaning:"M·ªôt",hanviet:"NH·∫§T"},
{kanji:"‰∫å",reading:"„Å´",meaning:"Hai",hanviet:"NH·ªä"},
{kanji:"‰∏â",reading:"„Åï„Çì",meaning:"Ba",hanviet:"TAM"},
{kanji:"Âõõ",reading:"„Çà„Çì",meaning:"B·ªën",hanviet:"T·ª®"},
{kanji:"‰∫î",reading:"„Åî",meaning:"NƒÉm",hanviet:"NG≈®"},
{kanji:"ÂÖ≠",reading:"„Çç„Åè",meaning:"S√°u",hanviet:"L·ª§C"},
{kanji:"‰∏É",reading:"„Å™„Å™Ôºè„Åó„Å°",meaning:"B·∫£y",hanviet:"TH·∫§T"},
{kanji:"ÂÖ´",reading:"„ÅØ„Å°",meaning:"T√°m",hanviet:"B√ÅT"},
{kanji:"‰πù",reading:"„Åç„ÇÖ„ÅÜ",meaning:"Ch√≠n",hanviet:"C·ª¨U"},
{kanji:"ÂçÅ",reading:"„Åò„ÇÖ„ÅÜ",meaning:"M∆∞·ªùi",hanviet:"TH·∫¨P"},
],

"B√†i 17":[
{kanji:"Áôæ",reading:"„Å≤„ÇÉ„Åè",meaning:"TrƒÉm",hanviet:"B√ÅCH"},
{kanji:"ÂçÉ",reading:"„Åõ„Çì",meaning:"Ngh√¨n",hanviet:"THI√äN"},
{kanji:"‰∏á",reading:"„Åæ„Çì",meaning:"Ch·ª•c ngh√¨n",hanviet:"V·∫†N"},
{kanji:"ÂÜÜ",reading:"„Åà„Çì",meaning:"Y√™n",hanviet:"VI√äN"},
{kanji:"‰ºë„Åø",reading:"„ÇÑ„Åô„Åø",meaning:"Ngh·ªâ",hanviet:"H∆ØU"},
{kanji:"Êò†Áîª",reading:"„Åà„ÅÑ„Åå",meaning:"Phim",hanviet:"√ÅNH H·ªåA"},
{kanji:"Êó•Êú¨Ë™û",reading:"„Å´„Åª„Çì„Åî",meaning:"Ti·∫øng Nh·∫≠t",hanviet:"NH·∫¨T B·∫¢N NG·ªÆ"},
{kanji:"ÂãâÂº∑„Åó„Åæ„Åô",reading:"„Åπ„Çì„Åç„Çá„ÅÜ„Åó„Åæ„Åô",meaning:"H·ªçc",hanviet:"MI·ªÑN C∆Ø·ªúNG"},
{kanji:"Ë≤∑„ÅÑ„Åæ„Åô",reading:"„Åã„ÅÑ„Åæ„Åô",meaning:"Mua",hanviet:"M√ÉI"},
],

"B√†i 18":[
{kanji:"Ê∏©Ê≥â",reading:"„Åä„Çì„Åõ„Çì",meaning:"Su·ªëi n∆∞·ªõc n√≥ng",hanviet:"√îN TUY·ªÄN"},
{kanji:"‰∫àÂÆö",reading:"„Çà„Å¶„ÅÑ",meaning:"D·ª± ƒë·ªãnh",hanviet:"D·ª∞ ƒê·ªäNH"},
{kanji:"Êù•ÈÄ±",reading:"„Çâ„ÅÑ„Åó„ÇÖ„ÅÜ",meaning:"Tu·∫ßn sau",hanviet:"LAI CHU"},
{kanji:"‰ºö„ÅÑ„Åæ„Åô",reading:"„ÅÇ„ÅÑ„Åæ„Åô",meaning:"G·∫∑p",hanviet:"H·ªòI"},
{kanji:"ÂÖ•„Çä„Åæ„Åô",reading:"„ÅØ„ÅÑ„Çä„Åæ„Åô",meaning:"ƒêi v√†o",hanviet:"NH·∫¨P"},
{kanji:"ÊóÖË°å„Åó„Åæ„Åô",reading:"„Çä„Çá„Åì„ÅÜ„Åó„Åæ„Åô",meaning:"Du l·ªãch",hanviet:"L·ªÆ H√ÄNH"},
],

};

/* ===== BI·∫æN ===== */
let data=[];
let originalData=[];
let index=0;
let front=true;
let shuffled=false;
let currentMode="";

const lessonSelect=document.getElementById("lessonSelect");

/* ===== BUILD ALL ===== */
function buildAllData(){
  const all=[];
  Object.keys(lessons).forEach(lessonName=>{
    const lessonNumber=lessonName.replace("B√†i ","").trim();
    lessons[lessonName].forEach(item=>{
      all.push({...item,lessonNumber});
    });
  });
  return all;
}

/* ===== RENDER ===== */
function render(){
  kanji.innerText=data[index].kanji;
  reading.innerText=data[index].reading;
  meaning.innerText=data[index].meaning;
  kanjiReview.innerText=data[index].kanji;
  hanviet.innerText="H√°n Vi·ªát: "+data[index].hanviet;
  counter.innerText=(index+1)+" / "+data.length;

  if(currentMode==="T·∫•t c·∫£"){
    lessonTag.style.display="block";
    lessonTag.innerText="B√†i: "+data[index].lessonNumber;
  }else{
    lessonTag.style.display="none";
  }

  showFront();
}

/* ===== CARD ===== */
function toggleCard(e){
  if(e) e.stopPropagation();
  front?showBack():showFront();
}
function showFront(){
  front=true;
  document.querySelector(".front").style.display="block";
  document.querySelector(".back").style.display="none";
}
function showBack(){
  front=false;
  document.querySelector(".front").style.display="none";
  document.querySelector(".back").style.display="block";
}

/* ===== NAV ===== */
function nextCard(e){
  e.stopPropagation();
  index=(index+1)%data.length;
  render();
}
function prevCard(e){
  e.stopPropagation();
  index=(index-1+data.length)%data.length;
  render();
}

/* ===== SHUFFLE ===== */
function shuffleCards(e){
  e.stopPropagation();

  if(!shuffled){
    for(let i=data.length-1;i>0;i--){
      const j=Math.floor(Math.random()*(i+1));
      [data[i],data[j]]=[data[j],data[i]];
    }
    shuffled=true;
    shuffleBtn.innerText="‚Ü©";
  }else{
    data=originalData.map(x=>({...x}));
    shuffled=false;
    shuffleBtn.innerText="üîÄ";
  }

  index=0;
  render();
}

/* ===== AUDIO ===== */
function speak(){
  const u=new SpeechSynthesisUtterance(data[index].reading);
  u.lang="ja-JP";
  u.rate=0.9;
  speechSynthesis.cancel();
  speechSynthesis.speak(u);
}

/* ===== LOAD ===== */
function loadLesson(modeName){

  shuffled=false;
  shuffleBtn.innerText="üîÄ";
  index=0;
  front=true;
  showFront();

  currentMode=modeName;

  if(modeName==="T·∫•t c·∫£"){
    data=buildAllData();
  }else{
    const lessonNumber=modeName.replace("B√†i ","").trim();
    data=lessons[modeName].map(x=>({...x,lessonNumber}));
  }

  originalData=data.map(x=>({...x}));
  render();
}

/* ===== INIT DROPDOWN ===== */
function initLessons(){

  const optAll=document.createElement("option");
  optAll.value="T·∫•t c·∫£";
  optAll.textContent="T·∫•t c·∫£";
  lessonSelect.appendChild(optAll);

  Object.keys(lessons).forEach(lessonName=>{
    const opt=document.createElement("option");
    opt.value=lessonName;
    opt.textContent=lessonName;
    lessonSelect.appendChild(opt);
  });

  /* ‚úÖ M·∫∂C ƒê·ªäNH T·∫§T C·∫¢ */
  lessonSelect.value="T·∫•t c·∫£";
  loadLesson("T·∫•t c·∫£");
}

function changeLesson(e){
  e.stopPropagation();
  loadLesson(lessonSelect.value);
}

initLessons();
</script>

</body>
</html>

